<%= render partial: 'errors/errors', locals: {model: @playlist} %>

<h1><%= @playlist.name %></h1>
<div>
    <p> <%= @playlist.description %></p>
    <p> Created by:<%=if @playlist.spotifyUserID? 
        @playlist.spotifyUserID 
        else 
        User.find_by_id(@playlist.user_id).username 
        end %> </p>
    <p> Views: <%= @playlist.views %></p>
    <p> Likes: <%= @playlist.likes %></p>
    <p> Dislikes: <%= @playlist.dislikes %></p>
</div>
<%# Like/Dislike buttons Here%>


<%= form_with(model: [@playlist, @comment]) do |f|%>
    <% f.hidden_field   :user_id,       value: current_user.id  %>
    <% f.hidden_field   :playlist_id,   value: @playlist.id     %>
    <%= f.text_area     :body                                   %>
    <%= f.submit        :comment                                %>
    <%#byebug %>
<% end %>

<%# List comments below, sure why not use cards again? %>
<h3>Comments:</h3>
<% @comments.each do |comment|%>
    <div class="card">
        <strong><%=  comment.user.username %> Said:</strong> 
        <p><%= comment.body %></p>
        <p><small><%= comment.updated_at%></small></p>
    <div>
<% end %>
